<div class="w-full max-w-md mx-auto bg-base-100 rounded-2xl shadow-md p-5 space-y-5 font-Poppins">
  <!-- CÓDIGO PROMOCIONAL -->
  @if(!showProdToPay()){

  <div class="collapse collapse-arrow border border-base-content/10 rounded-xl">
    <input type="checkbox" />
    <div class="collapse-title font-semibold text-base">¿Tienes un código promocional?</div>
    <div class="collapse-content space-y-3">
      <input type="text" placeholder="Ingresa tu código" class="input input-bordered w-full" />
      <button class="btn btn-outline btn-sm w-full">Aplicar</button>
    </div>
  </div>
  }

  <!-- ENTREGA -->
  @if(showProdToPay()){
  <h3 class="text-lg font-bold mb-2">Productos en la bolsa</h3>
  <div class="max-h-55 overflow-y-auto">
    <!-- Lista de productos sin opciones -->

    <div class="">
      @for(item of shopList();track item){
      <div class="divider p-0 mb-2 mt-1"></div>
      <div class="card h-20 card-side max-w-md p-0 my-0">
        <!-- Imagen -->
        <div class="avatar indicator">
          <span class="indicator-item badge badge-info">{{item.quantity}}</span>
          <div class="h-full w-full rounded-lg">
            <img
            class="w-full h-full"
              alt="Tailwind CSS examples"
              [src]="item.product.images.at(0)"
            />
          </div>
        </div>

        <!-- Contenido -->
        <div class="card-body py-0 gap-0">
          <div class="tems-start">
            <h3 class="card-title text-sm font-semibold leading-tight">
              {{ item.product.description }}
            </h3>
            <span class="text text-xs text-gray-500"> Talla: {{ item.selectedSize }} </span>
          </div>

          <div class="mt-0 flex justify-end">
            <span class="text-md font-bold">{{
              item.product.price | currency : 'COP' : 'symbol' : '1.0-0'
            }}</span>
          </div>
        </div>
      </div>
      }
    </div>
  </div>
  }@else {

  <!-- ENTREGA -->
  <div class="space-y-2">
    <h3 class="text-lg font-bold">Entrega</h3>
    <p class="text-sm text-base-content/70 leading-snug">
      Envío a nivel nacional por servientrega, pago a contraentrega para que te sientas seguro
    </p>
  </div>
  }
  <!-- RESUMEN -->
  @let sub=subtotal();
  <div class="space-y-2 pt-2 border-t border-base-content/10">
    <div>
      <div class="flex justify-between text-sm">
        <span>Subtotal</span>
        <span>{{ sub | currency : 'COP' : 'symbol' : '1.0-0' }}</span>
      </div>
      <div class="flex justify-between text-xs">
        <span>Gastos de envío</span>
        <span>Gratis</span>
      </div>
    </div>
    <div class="flex justify-between text-base font-bold">
      <span>Total</span>
      <span>{{ sub | currency : 'COP' : 'symbol' : '1.0-0' }}</span>
    </div>
  </div>
  <!-- CTA -->
  @if(!hideButton()){
  <button
    class="btn btn-primary w-full h-14 rounded-full text-base font-semibold"
    [routerLink]="['/checkout']"
  >
    Información de envío
  </button>
  }
</div>
